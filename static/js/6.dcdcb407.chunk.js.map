{"version":3,"sources":["components/pages/SingleComicPage.js"],"names":["View","comic","title","description","pageCount","thumbnail","language","price","className","src","alt","to","SingleComicPage","comicId","useParams","useState","setComic","useMarvelService","loading","error","getComics","clearError","useEffect","updateComic","onError","setState","then","onComicLoaded","catch","errorMessage","spinner","content"],"mappings":"4MAgDMA,EAAO,SAAC,GAAa,IAAZC,EAAW,EAAXA,MACNC,EAA8DD,EAA9DC,MAAOC,EAAuDF,EAAvDE,YAAaC,EAA0CH,EAA1CG,UAAWC,EAA+BJ,EAA/BI,UAAWC,EAAoBL,EAApBK,SAAUC,EAAUN,EAAVM,MAE3D,OACE,sBAAKC,UAAU,eAAf,UACE,qBAAKC,IAAKJ,EAAWK,IAAKR,EAAOM,UAAU,sBAC3C,sBAAKA,UAAU,qBAAf,UACE,oBAAIA,UAAU,qBAAd,SAAoCN,IACpC,mBAAGM,UAAU,sBAAb,SAAoCL,IACpC,mBAAGK,UAAU,sBAAb,SAAoCJ,IACpC,oBAAGI,UAAU,sBAAb,uBAA8CF,KAC9C,qBAAKE,UAAU,sBAAf,SAAsCD,OAExC,cAAC,IAAD,CAAMI,GAAG,uCAAuCH,UAAU,qBAA1D,6BAKSI,UA1DS,WACtB,IAAQC,EAAYC,cAAZD,QACR,EAA0BE,mBAAS,MAAnC,mBAAOd,EAAP,KAAce,EAAd,KACA,EAAgDC,cAAzCC,EAAP,EAAOA,QAASC,EAAhB,EAAgBA,MAAOC,EAAvB,EAAuBA,UAAWC,EAAlC,EAAkCA,WAElCC,qBAAU,WACRC,MACC,CAACV,IAEJ,IAAMW,EAAU,WACd,EAAKC,SAAS,CACZP,SAAS,EACTC,OAAO,KAILI,EAAc,WAClBF,IACAD,EAAUP,GACPa,KAAKC,GACLC,MAAMJ,IAGLG,EAAgB,SAAC1B,GACrBe,EAASf,IAGL4B,EAAeV,EAAQ,cAAC,IAAD,IAAkB,KACzCW,EAAUZ,EAAU,cAAC,IAAD,IAAa,KACjCa,EAAYb,GAAWC,IAAUlB,EAAiC,KAAxB,cAACD,EAAD,CAAMC,MAAOA,IAE7D,OACE,qCACG4B,EACAC,EACAC","file":"static/js/6.dcdcb407.chunk.js","sourcesContent":["import { useParams, Link } from 'react-router-dom';\r\nimport { useState, useEffect } from 'react';\r\n\r\nimport useMarvelService from '../../services/MarvelService';\r\nimport Spinner from '../spinner/Spinner';\r\nimport ErrorMessage from '../errorMessage/ErrorMessage';\r\nimport './singleComicPage.scss';\r\n\r\nconst SingleComicPage = () => {\r\n  const { comicId } = useParams();\r\n  const [comic, setComic] = useState(null);\r\n  const {loading, error, getComics, clearError} = useMarvelService();\r\n\r\n  useEffect(() => {\r\n    updateComic();\r\n  }, [comicId])\r\n\r\n  const onError = () => {\r\n    this.setState({\r\n      loading: false,\r\n      error: true\r\n    })\r\n  }\r\n\r\n  const updateComic = () => {\r\n    clearError();\r\n    getComics(comicId)\r\n      .then(onComicLoaded)\r\n      .catch(onError)\r\n  }\r\n\r\n  const onComicLoaded = (comic) => {\r\n    setComic(comic);\r\n  }\r\n\r\n  const errorMessage = error ? <ErrorMessage/> : null;\r\n  const spinner = loading ? <Spinner/> : null;\r\n  const content = !(loading || error || !comic) ? <View comic={comic}/> : null;\r\n\r\n  return (\r\n    <>\r\n      {errorMessage}\r\n      {spinner}\r\n      {content}\r\n    </>\r\n  )\r\n}\r\n\r\nconst View = ({comic}) => {\r\n  const {title, description, pageCount, thumbnail, language, price } = comic;\r\n\r\n  return (\r\n    <div className=\"single-comic\">\r\n      <img src={thumbnail} alt={title} className=\"single-comic__img\"/>\r\n      <div className=\"single-comic__info\">\r\n        <h2 className=\"single-comic__name\">{title}</h2>\r\n        <p className=\"single-comic__descr\">{description}</p>\r\n        <p className=\"single-comic__descr\">{pageCount}</p>\r\n        <p className=\"single-comic__descr\">Language: {language}</p>\r\n        <div className=\"single-comic__price\">{price}</div>\r\n      </div>\r\n      <Link to=\"/react_advenced_marvel-portal/comics\" className=\"single-comic__back\">Back to all</Link>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SingleComicPage;"],"sourceRoot":""}