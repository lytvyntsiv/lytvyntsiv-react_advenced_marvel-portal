(this.webpackJsonpmarvel=this.webpackJsonpmarvel||[]).push([[4],{25:function(e,c,t){"use strict";t.d(c,"a",(function(){return s}));var a=t(7);var n=t(6);function s(e){return function(e){if(Array.isArray(e))return Object(a.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(n.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},28:function(e,c,t){},29:function(e,c,t){},30:function(e,c,t){},31:function(e,c,t){},37:function(e,c,t){"use strict";t.r(c);var a=t(4),n=t(1),s=t(24),r=t(8),i=t(23),l=(t(28),t.p+"static/media/mjolnir.61f31e18.png"),o=t(0),j=function(e){var c=e.char,t=c.name,a=c.description,n=c.thumbnail,s=c.homepage,r=c.wiki;return Object(o.jsxs)("div",{className:"randomchar__block",children:[Object(o.jsx)("img",{src:n,alt:"Random character",className:"http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg"===n?"randomchar__img--not-found":"randomchar__img"}),Object(o.jsxs)("div",{className:"randomchar__info",children:[Object(o.jsx)("p",{className:"randomchar__name",children:t}),Object(o.jsx)("p",{className:"randomchar__descr",children:a?a.length>=210?"".concat(a.slice(0,210),"..."):a:"There is no description of this hero..."}),Object(o.jsxs)("div",{className:"randomchar__btns",children:[Object(o.jsx)("a",{href:s,className:"button button__main",children:Object(o.jsx)("div",{className:"inner",children:"Homepage"})}),Object(o.jsx)("a",{href:r,className:"button button__secondary",children:Object(o.jsx)("div",{className:"inner",children:"Wiki"})})]})]})]})},b=function(){var e=Object(n.useState)({}),c=Object(a.a)(e,2),t=c[0],b=c[1],d=Object(s.a)(),h=d.loading,m=d.error,u=d.getCharacter,_=d.clearError;Object(n.useEffect)((function(){f()}),[]);var O=function(e){b(e)},f=function(){_();var e=Math.floor(400*Math.random()+1011e3);u(e).then(O)},x=h?Object(o.jsx)(r.a,{}):null,v=h||m?null:Object(o.jsx)(j,{char:t}),N=m?Object(o.jsx)(i.a,{}):null;return Object(o.jsxs)("div",{className:"randomchar",children:[N,x,v,Object(o.jsxs)("div",{className:"randomchar__static",children:[Object(o.jsxs)("p",{className:"randomchar__title",children:["Random character for today!",Object(o.jsx)("br",{}),"Do you want to get to know him better?"]}),Object(o.jsx)("p",{className:"randomchar__title",children:"Or choose another one"}),Object(o.jsx)("button",{className:"button button__main",onClick:f,children:Object(o.jsx)("div",{className:"inner",children:"try it"})}),Object(o.jsx)("img",{src:l,alt:"mjolnir",className:"randomchar__decoration"})]})]})},d=t(25),h=(t(29),function(e){var c=Object(n.useState)([]),t=Object(a.a)(c,2),l=t[0],j=t[1],b=Object(n.useState)([]),h=Object(a.a)(b,2),m=h[0],u=h[1],_=Object(n.useState)(210),O=Object(a.a)(_,2),f=O[0],x=O[1],v=Object(n.useState)(!1),N=Object(a.a)(v,2),p=N[0],g=N[1],k=Object(s.a)(),y=k.loading,S=k.error,C=k.getAllCharacters;Object(n.useEffect)((function(){w(f,!0)}),[]);var w=function(e,c){u(!c),C(e).then(E)},E=function(e){var c=!1;e.length<9&&(c=!0),j([].concat(Object(d.a)(l),Object(d.a)(e))),u((function(e){return!1})),x((function(e){return e+9})),g((function(e){return c}))},I=Object(n.useRef)([]),F=function(e){I.current.forEach((function(e){return e.classList.remove("char__item_selected")})),I.current[e].classList.add("char__item_selected"),I.current[e].focus()},A=y&&!m?Object(o.jsx)(r.a,{}):null,R=S?Object(o.jsx)(i.a,{}):null,T=l.map((function(c,t){return Object(o.jsxs)("li",{className:"char__item",onClick:function(){e.onCharSelected(c.id),F(t)},tabIndex:0,ref:function(e){return I.current[t]=e},onKeyPress:function(a){" "!==a.key&&"Enter"!==a.key||(e.onCharSelected(c.id),F(t))},children:[Object(o.jsx)("img",{className:"http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg"===c.thumbnail?"char__img--not-found":"char__img",src:c.thumbnail,alt:"#"}),Object(o.jsx)("div",{className:"char__name",children:c.name})]},c.id)}));return Object(o.jsxs)("div",{className:"char__list",children:[Object(o.jsxs)("ul",{className:"char__grid",children:[R,A,T]}),Object(o.jsx)("button",{className:"button button__main button__long",disabled:m,style:{display:p?"none":"block"},onClick:function(){return w(f)},children:Object(o.jsx)("div",{className:"inner",children:"load more"})})]})}),m=(t(30),function(){return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("p",{className:"char__select",children:"Please select a character to see information"}),Object(o.jsxs)("div",{className:"skeleton",children:[Object(o.jsxs)("div",{className:"pulse skeleton__header",children:[Object(o.jsx)("div",{className:"pulse skeleton__circle"}),Object(o.jsx)("div",{className:"pulse skeleton__mini"})]}),Object(o.jsx)("div",{className:"pulse skeleton__block"}),Object(o.jsx)("div",{className:"pulse skeleton__block"}),Object(o.jsx)("div",{className:"pulse skeleton__block"})]})]})}),u=(t(31),void 0),_=function(e){var c=e.char,t=c.name,a=c.description,n=c.thumbnail,s=c.homepage,r=c.wiki,i=c.comics,l={objectFit:"cover"};return"http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg"===n&&(l={objectFit:"contain"}),Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("div",{className:"char__basics",children:[Object(o.jsx)("img",{src:n,alt:t,style:l}),Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{className:"char__info-name",children:t}),Object(o.jsxs)("div",{className:"char__btns",children:[Object(o.jsx)("a",{href:s,className:"button button__main",children:Object(o.jsx)("div",{className:"inner",children:"homepage"})}),Object(o.jsx)("a",{href:r,className:"button button__secondary",children:Object(o.jsx)("div",{className:"inner",children:"Wiki"})})]})]})]}),Object(o.jsx)("div",{className:"char__descr",children:a}),Object(o.jsx)("div",{className:"char__comics",children:0===i.length?null:"Comics:"}),Object(o.jsxs)("ul",{className:"char__comics-list",children:[0===i.length?"There is no comics with this character":null,i.map((function(e,c){if(!(c>=10))return Object(o.jsx)("li",{className:"char__comics-item",children:e.name},c)}))]})]})},O=function(e){var c=Object(n.useState)(null),t=Object(a.a)(c,2),l=t[0],j=t[1],b=Object(s.a)(),d=b.loading,h=b.error,O=b.getCharacter,f=b.clearError;Object(n.useEffect)((function(){v()}),[e.charId]);var x=function(){u.setState({loading:!1,error:!0})},v=function(){var c=e.charId;c&&(f(),O(c).then(N).catch(x))},N=function(e){j(e)},p=l||d||h?null:Object(o.jsx)(m,{}),g=h?Object(o.jsx)(i.a,{}):null,k=d?Object(o.jsx)(r.a,{}):null,y=d||h||!l?null:Object(o.jsx)(_,{char:l});return Object(o.jsxs)("div",{className:"char__info",children:[p,g,k,y]})},f=t.p+"static/media/vision.067d4ae1.png";c.default=function(){var e=Object(n.useState)(null),c=Object(a.a)(e,2),t=c[0],s=c[1];return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(b,{}),Object(o.jsxs)("div",{className:"char__content",children:[Object(o.jsx)(h,{onCharSelected:function(e){s(e)}}),Object(o.jsx)(O,{charId:t})]}),Object(o.jsx)("img",{className:"bg-decoration",src:f,alt:"vision"})]})}}}]);
//# sourceMappingURL=4.1be495eb.chunk.js.map