{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","components/comicsList/ComicsList.js","resources/img/Avengers.png","resources/img/Avengers_logo.png","components/appBanner/AppBanner.js","components/pages/ComicsPage.js"],"names":["_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","Object","from","unsupportedIterableToArray","TypeError","ComicsList","props","useMarvelService","getAllComics","loading","error","useState","comicsList","setComicsList","newItemLoading","setNewItemLoading","offset","setOffset","comicsEnded","setComicsEnded","useEffect","onRequest","initial","then","onComicstLoaded","newComicsList","ended","length","spinner","Spinner","errorMessage","ErrorMessage","itemRefs","useRef","comicses","map","item","i","className","tabIndex","ref","el","current","onKeyPress","e","id","key","onCharSelected","forEach","classList","remove","add","focus","to","src","thumbnail","alt","title","price","disabled","style","onClick","AppBanner","avengers","avengersLogo","ComicsPage"],"mappings":"yJAIe,SAASA,EAAmBC,GACzC,OCJa,SAA4BA,GACzC,GAAIC,MAAMC,QAAQF,GAAM,OAAO,OAAAG,EAAA,GAAiBH,GDGzC,CAAkBA,IELZ,SAA0BI,GACvC,GAAsB,qBAAXC,QAA0BA,OAAOC,YAAYC,OAAOH,GAAO,OAAOH,MAAMO,KAAKJ,GFIvD,CAAgBJ,IAAQ,OAAAS,EAAA,GAA2BT,IGLvE,WACb,MAAM,IAAIU,UAAU,wIHIwE,K,wJIuF/EC,EAnFI,SAACC,GAClB,MAAuCC,cAAhCC,EAAP,EAAOA,aAAcC,EAArB,EAAqBA,QAASC,EAA9B,EAA8BA,MAE9B,EAAoCC,mBAAS,IAA7C,mBAAOC,EAAP,KAAmBC,EAAnB,KACA,EAA4CF,mBAAS,IAArD,mBAAOG,EAAP,KAAuBC,EAAvB,KACA,EAA4BJ,mBAAS,KAArC,mBAAOK,EAAP,KAAeC,EAAf,KACA,EAAsCN,oBAAS,GAA/C,mBAAOO,EAAP,KAAoBC,EAApB,KAEAC,qBAAU,WACRC,EAAUL,GAAQ,KAEjB,IAEH,IAAMK,EAAY,SAACL,EAAQM,GACfP,GAAVO,GACAd,EAAaQ,GACVO,KAAKC,IAGJA,EAAkB,SAACC,GACvB,IAAIC,GAAQ,EAERD,EAAcE,OAAS,KACzBD,GAAQ,GAIVb,EAAc,GAAD,mBAAKD,GAAL,YAAoBa,KACjCV,GAAkB,GAClBE,GAAU,SAAAD,GAAM,OAAIA,EAAS,MAC7BG,EAAeO,IAGXE,EAAUnB,IAAYK,EAAiB,cAACe,EAAA,EAAD,IAAa,KACpDC,EAAgBpB,EAAe,cAACqB,EAAA,EAAD,IAAP,KAExBC,EAAWC,iBAAO,IAOlBC,EAAWtB,EAAWuB,KAAI,SAACC,EAAMC,GACrC,OACE,oBACEC,UAAU,eAEVC,SAAU,EACVC,IAAK,SAACC,GAAD,OAAQT,EAASU,QAAQL,GAAKI,GACnCE,WAAY,SAACC,GAbC,IAACC,EAcC,MAAVD,EAAEE,KAAyB,UAAVF,EAAEE,MACrBxC,EAAMyC,eAAeX,EAAKS,IAffA,EAgBCR,EAfpBL,EAASU,QAAQM,SAAQ,SAAAZ,GAAI,OAAIA,EAAKa,UAAUC,OAAO,0BACvDlB,EAASU,QAAQG,GAAII,UAAUE,IAAI,uBACnCnB,EAASU,QAAQG,GAAIO,UAKnB,SAUE,eAAC,IAAD,CAAMC,GAAE,+CAA0CjB,EAAKS,IAAvD,UACE,qBAAKS,IAAKlB,EAAKmB,UAAWC,IAAI,eAAelB,UAAU,qBACvD,qBAAKA,UAAU,oBAAf,SAAoCF,EAAKqB,QACzC,qBAAKnB,UAAU,qBAAf,SAAqCF,EAAKsB,YAXvCrB,MAiBX,OACE,sBAAKC,UAAU,eAAf,UACE,qBAAIA,UAAU,eAAd,UACGJ,EACAN,EACAE,KAEH,wBACEQ,UAAU,mCACVqB,SAAU7C,EACV8C,MAAO,CAAC,QAAW1C,EAAc,OAAS,SAC1C2C,QAAS,kBAAMxC,EAAUL,IAJ3B,SAME,qBAAKsB,UAAU,QAAf,6BCtFO,G,MAAA,IAA0B,sCCA1B,MAA0B,0CCiB1BwB,EAbG,WAChB,OACE,sBAAKxB,UAAU,cAAf,UACE,qBAAKgB,IAAKS,EAAUP,IAAI,aACxB,sBAAKlB,UAAU,mBAAf,mCACwB,uBADxB,iBAIA,qBAAKgB,IAAKU,EAAcR,IAAI,sBCAnBS,UATI,WACjB,OACE,qCACE,cAAC,EAAD,IACA,cAAC,EAAD","file":"static/js/5.0b4a2e82.chunk.js","sourcesContent":["import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import { useState, useEffect, useRef } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport useMarvelService from '../../services/MarvelService';\r\nimport ErrorMessage from '../errorMessage/ErrorMessage';\r\nimport Spinner from '../spinner/Spinner';\r\n\r\nimport './comicsList.scss';\r\n\r\nconst ComicsList = (props) => {\r\n  const {getAllComics, loading, error} = useMarvelService();\r\n\r\n  const [comicsList, setComicsList] = useState([]);\r\n  const [newItemLoading, setNewItemLoading] = useState([]);\r\n  const [offset, setOffset] = useState(210);\r\n  const [comicsEnded, setComicsEnded] = useState(false);\r\n\r\n  useEffect(() => {\r\n    onRequest(offset, true)\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  const onRequest = (offset, initial) => {\r\n    initial ? setNewItemLoading(false) : setNewItemLoading(true);\r\n    getAllComics(offset)\r\n      .then(onComicstLoaded)\r\n  }\r\n\r\n  const onComicstLoaded = (newComicsList) => {\r\n    let ended = false;\r\n\r\n    if (newComicsList.length < 20) {\r\n      ended = true;\r\n    }\r\n\r\n\r\n    setComicsList([...comicsList, ...newComicsList]);\r\n    setNewItemLoading(false);\r\n    setOffset(offset => offset + 20);\r\n    setComicsEnded(ended);\r\n  }\r\n\r\n  const spinner = loading && !newItemLoading ? <Spinner/> : null; \r\n  const errorMessage = !error ? null : <ErrorMessage />;\r\n\r\n  const itemRefs = useRef([]); \r\n  const focusOnItem = (id) => {\r\n    itemRefs.current.forEach(item => item.classList.remove('char__item_selected'));\r\n    itemRefs.current[id].classList.add('char__item_selected');\r\n    itemRefs.current[id].focus();\r\n  }\r\n\r\n  const comicses = comicsList.map((item, i) => {\r\n    return (\r\n      <li \r\n        className=\"comics__item\"\r\n        key={i}\r\n        tabIndex={0}\r\n        ref={(el) => itemRefs.current[i] = el}\r\n        onKeyPress={(e) => {\r\n          if (e.key === ' ' || e.key === \"Enter\") {\r\n            props.onCharSelected(item.id);\r\n            focusOnItem(i);\r\n          }}}>\r\n        <Link to={`/react_advenced_marvel-portal/comics/${item.id}`}>\r\n          <img src={item.thumbnail} alt=\"ultimate war\" className=\"comics__item-img\"/>\r\n          <div className=\"comics__item-name\">{item.title}</div>\r\n          <div className=\"comics__item-price\">{item.price}</div>\r\n        </Link>\r\n      </li>\r\n    )\r\n  });\r\n\r\n  return (\r\n    <div className=\"comics__list\">\r\n      <ul className=\"comics__grid\">\r\n        {comicses}\r\n        {spinner}\r\n        {errorMessage}\r\n      </ul>\r\n      <button \r\n        className=\"button button__main button__long\"\r\n        disabled={newItemLoading}\r\n        style={{'display': comicsEnded ? 'none' : 'block'}}\r\n        onClick={() => onRequest(offset)}\r\n        >\r\n        <div className=\"inner\">load more</div>\r\n      </button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ComicsList;","export default __webpack_public_path__ + \"static/media/Avengers.4065c8f9.png\";","export default __webpack_public_path__ + \"static/media/Avengers_logo.9eaf2193.png\";","import './appBanner.scss';\r\nimport avengers from '../../resources/img/Avengers.png';\r\nimport avengersLogo from '../../resources/img/Avengers_logo.png';\r\n\r\nconst AppBanner = () => {\r\n  return (\r\n    <div className=\"app__banner\">\r\n      <img src={avengers} alt=\"Avengers\"/>\r\n      <div className=\"app__banner-text\">\r\n        New comics every week!<br/>\r\n        Stay tuned!\r\n      </div>\r\n      <img src={avengersLogo} alt=\"Avengers logo\"/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AppBanner;","import ComicsList from \"../comicsList/ComicsList\";\r\nimport AppBanner from \"../appBanner/AppBanner\";\r\n\r\nconst ComicsPage = () => {\r\n  return (\r\n    <>\r\n      <AppBanner />\r\n      <ComicsList />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ComicsPage;"],"sourceRoot":""}